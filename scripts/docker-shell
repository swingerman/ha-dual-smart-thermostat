#!/usr/bin/env bash
# Open an interactive shell in the Docker development container
# Usage:
#   ./scripts/docker-shell          # Open bash shell
#   ./scripts/docker-shell python   # Open Python REPL

set -e

# Build image if it doesn't exist
if ! docker images | grep -q "dual-smart-thermostat.*dev"; then
    echo "Building Docker image..."
    docker-compose build dev
fi

# If no command specified, use bash
COMMAND="${1:-bash}"

echo "Opening $COMMAND in Docker container..."
docker-compose run --rm dev "$COMMAND"
